<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Button Press App</title>
    <style>
        .button-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        button {
            width: 100px;
            height: 100px;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="button-grid">
        <!-- Generate 9 buttons -->
        <script>
            const ws = new WebSocket('ws://192.168.29.219:8000');

            ws.onopen = () => {
                console.log('WebSocket connected');
            };

            for (let i = 1; i <= 9; i++) {
                document.write(`<button 
                                    id="btn${i}" 
                                    onmousedown="startSending(${i})" 
                                    onmouseup="stopSending(${i})" 
                                    onmouseleave="stopSending(${i})"
                                    ontouchstart="startSending(${i})"
                                    ontouchend="stopSending(${i})"
                                >${i}</button>`);
            }

            let interval;

            function startSending(number) {
                stopSending(); // Ensure no other intervals are running
                interval = setInterval(() => {
                    ws.send(`Button ${number} pressed`);
                }, 1000); // Adjust the interval time as needed
            }

            function stopSending() {
                if (interval) {
                    clearInterval(interval);
                    interval = null;
                }
            }
        </script>
    </div>
</body>
</html>
